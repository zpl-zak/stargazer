"use strict";(self["webpackChunkstargazer"]=self["webpackChunkstargazer"]||[]).push([[25],{7025:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});var o=a(9835);const t={class:"col sf-header text-h4 rounded-borders"},n=(0,o.Uk)(" Factions"),d=(0,o._)("div",{class:"col sf-header text-h4 rounded-borders"},"Truths",-1);function s(e,l,a,s,u,i){const m=(0,o.up)("i-input"),r=(0,o.up)("q-btn"),c=(0,o.up)("faction"),p=(0,o.up)("q-expansion-item"),b=(0,o.up)("truth"),V=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(V,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"q-mb-md",label:"Campaign Name",modelValue:e.campaign.data.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.campaign.data.name=l)},null,8,["modelValue"]),(0,o.Wm)(p,{"default-opened":""},{header:(0,o.w5)((()=>[(0,o._)("div",t,[n,(0,o.Wm)(r,{icon:"add_circle",flat:"",dense:"",onClick:e.addFaction},null,8,["onClick"])])])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.campaign.data.factions,((l,a)=>((0,o.wg)(),(0,o.j4)(c,{key:a,modelValue:e.campaign.data.factions[a],"onUpdate:modelValue":l=>e.campaign.data.factions[a]=l,onDelete:l=>e.removeFaction(a)},null,8,["modelValue","onUpdate:modelValue","onDelete"])))),128))])),_:1}),(0,o.Wm)(p,{"default-opened":""},{header:(0,o.w5)((()=>[d])),default:(0,o.w5)((()=>[(0,o.Wm)(b,{label:"Cataclysm",id:"cataclysm"}),(0,o.Wm)(b,{label:"Exodus",id:"exodus"}),(0,o.Wm)(b,{label:"Communities",id:"communities"}),(0,o.Wm)(b,{label:"Iron",id:"iron"}),(0,o.Wm)(b,{label:"Laws",id:"laws"}),(0,o.Wm)(b,{label:"Religion",id:"religion"}),(0,o.Wm)(b,{label:"Magic",id:"magic"}),(0,o.Wm)(b,{label:"Communication and Data",id:"communication"}),(0,o.Wm)(b,{label:"Medicine",id:"medicine"}),(0,o.Wm)(b,{label:"Artificial Intelligence",id:"ai"}),(0,o.Wm)(b,{label:"War",id:"war"}),(0,o.Wm)(b,{label:"Lifeforms",id:"lifeforms"}),(0,o.Wm)(b,{label:"Precursors",id:"precursors"}),(0,o.Wm)(b,{label:"Horrors",id:"horrors"})])),_:1})])),_:1})}var u=a(9216),i=a(9867),m=a(6970);const r={class:"q-mb-md"},c={class:"row text-h4 items-baseline"},p={class:"col-shrink sf-header q-mr-sm"},b={class:"row items-center no-wrap"},V={key:0,class:"row items-center"};function h(e,l,a,t,n,d){const s=(0,o.up)("q-avatar"),u=(0,o.up)("q-select"),i=(0,o.up)("q-btn"),h=(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",c,[(0,o.Wm)(s,{icon:e.icon.truth(e.label)},null,8,["icon"]),(0,o._)("div",p,(0,m.zw)(e.label),1)]),(0,o._)("div",b,[(0,o.Wm)(u,{class:"col-grow",label:"Select one, write your own, or roll...",modelValue:e.optSelect,"onUpdate:modelValue":l[0]||(l[0]=l=>e.optSelect=l),"map-options":"","emit-value":"",options:e.opts(),dense:"",borderless:""},null,8,["modelValue","options"]),(0,o.Wm)(i,{class:"col-shrink",icon:"mdi-dice-6",flat:"",dense:"",onClick:e.rollMain},null,8,["onClick"])]),e.subOpts.length>0?((0,o.wg)(),(0,o.iD)("div",V,[(0,o.Wm)(u,{class:"col-grow",label:"Select",modelValue:e.subOptSelect,"onUpdate:modelValue":l[1]||(l[1]=l=>e.subOptSelect=l),options:e.subOpts,dense:"",borderless:""},null,8,["modelValue","options"]),(0,o.Wm)(i,{class:"col-shrink",icon:"mdi-dice-6",flat:"",dense:"",onClick:e.rollSub},null,8,["onClick"])])):(0,o.kq)("",!0),(0,o.Wm)(h,{label:"Text",modelValue:e.campaign.data.truths[e.id],"onUpdate:modelValue":l[2]||(l[2]=l=>e.campaign.data.truths[e.id]=l),dense:"",outlined:"",autogrow:""},null,8,["modelValue"])])}var g=a(499),w=a(9587),f=a(3930),v=a(5156);const W=(0,o.aZ)({name:"Truths",props:{label:{type:String,required:!0},id:{type:String,required:!0}},setup(e){const l=(0,u.y)(),a=f.q["Setting Truths"].find((l=>l.Name===e.label));a||alert(`No truth found for ${e.label}`);const t=(0,g.iH)("");let n=(0,g.iH)([]);const d=e=>e.substring(0,30)+"...",s=(0,g.iH)(""),i=(0,g.iH)(0),m=()=>{const e=[];return null===a||void 0===a||a.Table.forEach((l=>{e.push({label:d(l.Result),value:`${l.Result} ${l.Description}`})})),e};(0,o.YP)((()=>s.value),(()=>{n.value=[],null===a||void 0===a||a.Table.forEach(((a,o)=>{const t=new RegExp(`^${d(a.Result)}`);t.test(s.value)&&(l.data.truths[e.id]=`${a.Result} ${a.Description}`,console.log(a),a.Subtable&&(i.value=o,a.Subtable.forEach((e=>{n.value.push(e.Result)}))))}))})),(0,o.YP)((()=>t.value),(()=>{l.data.truths[e.id]+="\n\n"+t.value}));const r=()=>s.value=d(v.truth(null===a||void 0===a?void 0:a.$id,-1).Result),c=()=>t.value=v.truth(null===a||void 0===a?void 0:a.$id,i.value).Result;return{campaign:l,truth:a,optSelect:s,opts:m,optID:i,subOptSelect:t,subOpts:n,rollSub:c,rollMain:r,icon:w.q}}});var q=a(1639),k=a(1357),U=a(8401),y=a(8879),S=a(3119),Z=a(9984),D=a.n(Z);const C=(0,q.Z)(W,[["render",h]]),I=C;D()(W,"components",{QAvatar:k.Z,QSelect:U.Z,QBtn:y.Z,QInput:S.Z});var R=a(6359);const _={class:"row q-mb-sm text-h6"},x={class:"row q-gutter-sm q-mb-sm"},$={key:0,class:"row q-gutter-sm q-mb-sm"},j={key:1};function Q(e,l,a,t,n,d){const s=(0,o.up)("q-btn"),u=(0,o.up)("i-input");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",_,[(0,o.Uk)((0,m.zw)(e.data.name)+" ",1),e.config.data.edit?((0,o.wg)(),(0,o.j4)(s,{key:0,flat:"",dense:"",icon:"delete",onClick:l[0]||(l[0]=l=>e.$emit("delete"))})):(0,o.kq)("",!0)]),(0,o._)("div",x,[(0,o.Wm)(u,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"col",label:"Type",modelValue:e.data.type,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.type=l)},null,8,["modelValue"])]),e.$q.screen.gt.sm?((0,o.wg)(),(0,o.iD)("div",$,[e.isDominion?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"col",label:"Leadership",modelValue:e.data.leadership,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.leadership=l)},null,8,["modelValue"])):(0,o.kq)("",!0),(0,o.Wm)(u,{class:"col",label:"Influence",modelValue:e.data.influence,"onUpdate:modelValue":l[4]||(l[4]=l=>e.data.influence=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"col",label:"Sphere",modelValue:e.data.sphere,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.sphere=l)},null,8,["modelValue"])])):((0,o.wg)(),(0,o.iD)("div",j,[e.isDominion?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"row q-mb-sm",label:"Leadership",modelValue:e.data.leadership,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.leadership=l)},null,8,["modelValue"])):(0,o.kq)("",!0),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Influence",modelValue:e.data.influence,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.influence=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Sphere",modelValue:e.data.sphere,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.sphere=l)},null,8,["modelValue"])])),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Projects",modelValue:e.data.projects,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.projects=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Relationships",modelValue:e.data.relationships,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.relationships=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Quirks",modelValue:e.data.quirks,"onUpdate:modelValue":l[11]||(l[11]=l=>e.data.quirks=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"row q-mb-sm",label:"Rumors",modelValue:e.data.rumors,"onUpdate:modelValue":l[12]||(l[12]=l=>e.data.rumors=l)},null,8,["modelValue"]),(0,o.Wm)(u,{class:"row q-mb-lg",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[13]||(l[13]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])],64)}var T=a(5860);const F=(0,o.aZ)({name:"Faction",components:{IInput:R.Z},props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","delete"],setup(e,{emit:l}){const a=(0,g.iH)(e.modelValue);(0,o.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0}),(0,o.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0});const t=(0,o.Fl)((()=>"Dominion"===a.value.type)),n=(0,T.Z)();return{data:a,isDominion:t,config:n}}}),H=(0,q.Z)(F,[["render",Q]]),O=H;D()(F,"components",{QBtn:y.Z});const P=(0,o.aZ)({name:"Truths",components:{Truth:I,IInput:R.Z,Faction:O},setup(){const e=(0,u.y)(),l=()=>{e.data.factions.unshift((0,i.W9)())},a=l=>{e.data.factions.splice(l,1)};return{campaign:e,addFaction:l,removeFaction:a}}});var E=a(9885),Y=a(1123);const N=(0,q.Z)(P,[["render",s]]),z=N;D()(P,"components",{QPage:E.Z,QExpansionItem:Y.Z,QBtn:y.Z})}}]);