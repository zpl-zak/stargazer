(self["webpackChunkstargazer"]=self["webpackChunkstargazer"]||[]).push([[346],{4204:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Rl});var t=a(9835),o=a(6970);const s={key:0,class:"row q-gutter-sm q-mb-md"},n={key:1},d={class:"row q-mb-sm"},c={class:"row q-gutter-sm q-mb-sm"},m={class:"row justify-center q-mb-sm"},u={key:2,class:"row q-gutter-sm q-mb-sm"},r={key:3},i={class:"row q-gutter-sm q-mb-sm"},p={class:"row q-gutter-sm q-mb-sm"},g={class:"column q-mt-md"},V={key:0},b={class:"text-h4 sf-header col-grow"},h={class:"card-bg sf-header text-h5 q-pa-none col-grow"},f=(0,t._)("div",{class:"q-pt-xs"},null,-1),v={key:0},w={key:1},q={key:2},D={key:3},k={key:4},y={key:5},S={key:6},I={key:7},W={key:8},C=(0,t._)("div",{class:"sf-header col-grow"},"Options",-1);function U(e,l,a,U,E,j){const Z=(0,t.up)("q-btn"),x=(0,t.up)("q-select"),O=(0,t.up)("i-input"),P=(0,t.up)("hex-map"),F=(0,t.up)("s-settlement"),$=(0,t.up)("s-NPC"),_=(0,t.up)("s-star"),M=(0,t.up)("s-planet"),Q=(0,t.up)("s-starship"),L=(0,t.up)("s-derelict"),N=(0,t.up)("s-vault"),Y=(0,t.up)("s-creature"),H=(0,t.up)("s-sighting"),z=(0,t.up)("q-card-section"),B=(0,t.up)("q-separator"),T=(0,t.up)("q-expansion-item"),R=(0,t.up)("q-toggle"),K=(0,t.up)("q-card"),A=(0,t.up)("q-dialog"),X=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(X,{padding:""},{default:(0,t.w5)((()=>[e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(Z,{class:"col-shrink",flat:"",dense:"",icon:"add_circle",onClick:e.addSector},null,8,["onClick"]),(0,t.Wm)(x,{class:"col",label:"Sector",modelValue:e.config.data.sector,"onUpdate:modelValue":l[0]||(l[0]=l=>e.config.data.sector=l),options:e.sectorOpts,"map-options":"","emit-value":"",standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.campaign.data.sectors.length>1&&e.config.data.edit?((0,t.wg)(),(0,t.j4)(Z,{key:0,class:"col-shrink",flat:"",dense:"",icon:"delete",onClick:e.removeSector},null,8,["onClick"])):(0,t.kq)("",!0),(0,t.Wm)(x,{class:"col",label:"Region",modelValue:e.campaign.data.sectors[e.config.data.sector].region,"onUpdate:modelValue":l[1]||(l[1]=l=>e.campaign.data.sectors[e.config.data.sector].region=l),options:Object.values(e.ERegion),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),(0,t.Wm)(O,{class:"col",label:"Faction/Control",modelValue:e.campaign.data.sectors[e.config.data.sector].control,"onUpdate:modelValue":l[2]||(l[2]=l=>e.campaign.data.sectors[e.config.data.sector].control=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",d,[(0,t.Wm)(Z,{class:"col-shrink",flat:"",dense:"",icon:"add_circle",onClick:e.addSector},null,8,["onClick"]),(0,t.Wm)(x,{class:"col",label:"Sector",modelValue:e.config.data.sector,"onUpdate:modelValue":l[3]||(l[3]=l=>e.config.data.sector=l),options:e.sectorOpts,"map-options":"","emit-value":"",standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.campaign.data.sectors.length>1&&e.config.data.edit?((0,t.wg)(),(0,t.j4)(Z,{key:0,class:"col-shrink",flat:"",dense:"",icon:"delete",onClick:e.removeSector},null,8,["onClick"])):(0,t.kq)("",!0)]),(0,t._)("div",c,[(0,t.Wm)(x,{class:"col",label:"Region",modelValue:e.campaign.data.sectors[e.config.data.sector].region,"onUpdate:modelValue":l[4]||(l[4]=l=>e.campaign.data.sectors[e.config.data.sector].region=l),options:Object.values(e.ERegion),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),(0,t.Wm)(O,{class:"col",label:"Faction/Control",modelValue:e.campaign.data.sectors[e.config.data.sector].control,"onUpdate:modelValue":l[5]||(l[5]=l=>e.campaign.data.sectors[e.config.data.sector].control=l)},null,8,["modelValue"])])])),(0,t._)("div",m,[(0,t.Wm)(P,{searchResults:e.results},null,8,["searchResults"])]),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(O,{class:"col",label:"Sector name",modelValue:e.campaign.data.sectors[e.config.data.sector].name,"onUpdate:modelValue":l[6]||(l[6]=l=>e.campaign.data.sectors[e.config.data.sector].name=l)},null,8,["modelValue"]),(0,t.Wm)(O,{class:"col",label:"Search",modelValue:e.searchText,"onUpdate:modelValue":l[7]||(l[7]=l=>e.searchText=l),clearable:""},null,8,["modelValue"]),(0,t.Wm)(x,{class:"col",label:"Filters",modelValue:e.filters,"onUpdate:modelValue":l[8]||(l[8]=l=>e.filters=l),options:Object.values(e.ESectorOpts),multiple:"",clearable:"",standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),(0,t.Wm)(Z,{class:"col-shrink",flat:"",dense:"",icon:"mdi-cog",onClick:l[9]||(l[9]=l=>e.showMapConfig=!0)})])):((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",i,[(0,t.Wm)(O,{class:"col",label:"Sector name",modelValue:e.campaign.data.sectors[e.config.data.sector].name,"onUpdate:modelValue":l[10]||(l[10]=l=>e.campaign.data.sectors[e.config.data.sector].name=l)},null,8,["modelValue"]),(0,t.Wm)(Z,{class:"col-shrink",flat:"",dense:"",icon:"mdi-cog",onClick:l[11]||(l[11]=l=>e.showMapConfig=!0)})]),(0,t._)("div",p,[(0,t.Wm)(O,{class:"col",label:"Search",modelValue:e.searchText,"onUpdate:modelValue":l[12]||(l[12]=l=>e.searchText=l),clearable:""},null,8,["modelValue"]),(0,t.Wm)(x,{class:"col",label:"Filters",modelValue:e.filters,"onUpdate:modelValue":l[13]||(l[13]=l=>e.filters=l),options:Object.values(e.ESectorOpts),multiple:"",clearable:"",standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"])])])),(0,t._)("div",g,[e.results?((0,t.wg)(),(0,t.iD)("div",V,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.results,((l,a)=>((0,t.wg)(),(0,t.j4)(T,{class:"q-mb-lg",key:a,"default-opened":""},{header:(0,t.w5)((()=>[(0,t._)("div",b,"Sector: "+(0,o.zw)(e.campaign.data.sectors[+a].name),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(O,{class:"q-mb-sm",label:"Sector Notes",modelValue:e.campaign.data.sectors[+a].notes,"onUpdate:modelValue":l=>e.campaign.data.sectors[+a].notes=l,autogrow:""},null,8,["modelValue","onUpdate:modelValue"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l,((l,s)=>((0,t.wg)(),(0,t.j4)(T,{class:"q-mb-md card-bg rounded-borders",flat:"",key:s,"default-opened":""},{header:(0,t.w5)((()=>[(0,t._)("div",h," Cell: "+(0,o.zw)(e.CellLabel(e.campaign.data.sectors[+a].cells[s],s).label),1)])),default:(0,t.w5)((()=>[f,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l,((l,o)=>((0,t.wg)(),(0,t.j4)(z,{class:"q-px-xs q-py-none",key:o},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l,(l=>((0,t.wg)(),(0,t.iD)("div",{key:l},[o===e.ESectorOpts.Settlements?((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(F,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Settlements,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.NPCs?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)($,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.NPCs,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Stars?((0,t.wg)(),(0,t.iD)("div",q,[(0,t.Wm)(_,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Stars,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Planets?((0,t.wg)(),(0,t.iD)("div",D,[(0,t.Wm)(M,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Planets,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Ships?((0,t.wg)(),(0,t.iD)("div",k,[(0,t.Wm)(Q,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Ships,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Derelicts?((0,t.wg)(),(0,t.iD)("div",y,[(0,t.Wm)(L,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Derelicts,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Vaults?((0,t.wg)(),(0,t.iD)("div",S,[(0,t.Wm)(N,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Vaults,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Creatures?((0,t.wg)(),(0,t.iD)("div",I,[(0,t.Wm)(Y,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Creatures,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0),o===e.ESectorOpts.Sightings?((0,t.wg)(),(0,t.iD)("div",W,[(0,t.Wm)(H,{modelValue:e.campaign.data.sectors[+a].cells[s][o][+l],"onUpdate:modelValue":t=>e.campaign.data.sectors[+a].cells[s][o][+l]=t,onDelete:t=>e.campaign.removeObject(e.ESectorOpts.Sightings,a,s,l)},null,8,["modelValue","onUpdate:modelValue","onDelete"])])):(0,t.kq)("",!0)])))),128))])),_:2},1024)))),128)),(0,t.Wm)(B,{style:{opacity:"0",padding:"0",margin:"0"},size:"1px"})])),_:2},1024)))),128))])),_:2},1024)))),128))])):(0,t.kq)("",!0)]),(0,t.Wm)(A,{modelValue:e.showMapConfig,"onUpdate:modelValue":l[17]||(l[17]=l=>e.showMapConfig=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z,{class:"card-bg row justify-between items-center text-h5 sf-header"},{default:(0,t.w5)((()=>[C,(0,t.Wm)(Z,{class:"col-shrink",flat:"",dense:"",icon:"close",onClick:l[14]||(l[14]=l=>e.showMapConfig=!1)})])),_:1}),(0,t.Wm)(z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(R,{label:"Stars",modelValue:e.config.data.map.starfield,"onUpdate:modelValue":l[15]||(l[15]=l=>e.config.data.map.starfield=l)},null,8,["modelValue"]),(0,t.Wm)(R,{label:"Animations",modelValue:e.config.data.map.animations,"onUpdate:modelValue":l[16]||(l[16]=l=>e.config.data.map.animations=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var E=a(499),j=a(2620),Z=a(9216),x=a(5860),O=a(2221),P=a(6359);const F={class:"row q-gutter-sm q-mb-sm no-wrap"},$={key:1,class:"row q-gutter-sm justify-between q-mb-sm"},_={key:2},M={class:"row q-gutter-sm justify-between q-mb-sm"},Q={key:3,class:"row q-gutter-sm justify-between q-mb-sm"},L={key:4};function N(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.settlement()}`,"header-class":"settlement-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Settlement"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",F,[(0,t.Wm)(c,{class:"col-grow",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(m,{label:"Type",modelValue:e.data.location,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.location=l),options:Object.values(e.ESLocation),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[3]||(l[3]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",$,[(0,t.Wm)(c,{class:"col",label:"Authority",modelValue:e.data.authority,"onUpdate:modelValue":l[4]||(l[4]=l=>e.data.authority=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col",label:"Population",modelValue:e.data.population,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.population=l),options:Object.values(e.ESettPop),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),(0,t.Wm)(c,{class:"col",label:"Projects",modelValue:e.data.projects,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.projects=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("div",M,[(0,t.Wm)(c,{class:"col",label:"Authority",modelValue:e.data.authority,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.authority=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col",label:"Population",modelValue:e.data.population,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.population=l),options:Object.values(e.ESettPop),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"])]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Projects",modelValue:e.data.projects,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.projects=l)},null,8,["modelValue"])])),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",Q,[(0,t.Wm)(c,{class:"col",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.firstLook=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Initial Contact",modelValue:e.data.initialContact,"onUpdate:modelValue":l[11]||(l[11]=l=>e.data.initialContact=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",L,[(0,t.Wm)(c,{class:"q-mb-sm",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[12]||(l[12]=l=>e.data.firstLook=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Initial Contact",modelValue:e.data.initialContact,"onUpdate:modelValue":l[13]||(l[13]=l=>e.data.initialContact=l)},null,8,["modelValue"])])),(0,t.Wm)(c,{class:"q-mb-sm",label:"Trouble",modelValue:e.data.trouble,"onUpdate:modelValue":l[14]||(l[14]=l=>e.data.trouble=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[15]||(l[15]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}var Y=a(9587);const H={class:"row q-gutter-sm items-center"},z=(0,t._)("span",{class:"col-shrink"},"Move to",-1);function B(e,l,a,o,s,n){const d=(0,t.up)("location-select");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",H,[z,(0,t.Wm)(d,{class:"col-grow",icon:"mdi-transfer-right",onSelected:l[0]||(l[0]=l=>e.$emit("move",l))})])])}var T=a(4490);const R=(0,t.aZ)({components:{LocationSelect:T.Z},name:"Controls",emits:["move"]});var K=a(1639);const A=(0,K.Z)(R,[["render",B]]),X=A,G=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SSettlement",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,ESLocation:j.av,ESettPop:j.E$,icon:Y.q}}});var J=a(1123),ee=a(8401),le=a(8879),ae=a(9984),te=a.n(ae);const oe=(0,K.Z)(G,[["render",N]]),se=oe;te()(G,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const ne={key:1,class:"row q-gutter-sm q-mb-sm no-wrap"},de={key:2},ce={class:"row q-gutter-sm q-mb-sm no-wrap"},me={class:"row q-gutter-sm q-mb-sm"},ue={class:"row q-gutter-sm q-mb-sm"};function re(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-checkbox"),u=(0,t.up)("q-btn"),r=(0,t.up)("progress-track"),i=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(i,{icon:`img:${e.icon.npc()}`,"header-class":"person-header sf-header rounded-borders q-mb-sm",label:`${e.data.name} ${e.pronouns}`,caption:"Person"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",ne,[(0,t.Wm)(c,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Pronouns",modelValue:e.data.pronouns,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.pronouns=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Role",modelValue:e.data.role,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.role=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col-shrink",dense:"",label:"Connection",modelValue:e.data.connection,"onUpdate:modelValue":l[4]||(l[4]=l=>e.data.connection=l)},null,8,["modelValue"]),e.data.connection?((0,t.wg)(),(0,t.j4)(m,{key:0,class:"col-shrink",dense:"",label:"Bond",modelValue:e.data.bond,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.bond=l)},null,8,["modelValue"])):(0,t.kq)("",!0),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:1,icon:"delete",flat:"",dense:"",onClick:l[6]||(l[6]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",de,[(0,t._)("div",ce,[(0,t.Wm)(c,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col-shrink",dense:"",label:"Bond",modelValue:e.data.bond,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.bond=l)},null,8,["modelValue"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[9]||(l[9]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t._)("div",me,[(0,t.Wm)(c,{class:"col",label:"Pronouns",modelValue:e.data.pronouns,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.pronouns=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Role",modelValue:e.data.role,"onUpdate:modelValue":l[11]||(l[11]=l=>e.data.role=l)},null,8,["modelValue"])])])),(0,t._)("div",ue,[(0,t.Wm)(c,{class:"col",label:"Callsign",modelValue:e.data.callsign,"onUpdate:modelValue":l[12]||(l[12]=l=>e.data.callsign=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Disposition",modelValue:e.data.disposition,"onUpdate:modelValue":l[13]||(l[13]=l=>e.data.disposition=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Goal",modelValue:e.data.goal,"onUpdate:modelValue":l[14]||(l[14]=l=>e.data.goal=l)},null,8,["modelValue"])]),(0,t.Wm)(c,{class:"q-mb-sm",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[15]||(l[15]=l=>e.data.firstLook=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Revealed Aspect",modelValue:e.data.aspect,"onUpdate:modelValue":l[16]||(l[16]=l=>e.data.aspect=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[17]||(l[17]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"]),(0,t.Wm)(i,{class:"q-mb-sm","header-class":"sf-header",label:"Challenge tracks",ref:"challenge_tracks"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"q-mb-sm",modelValue:e.data.track,"onUpdate:modelValue":l[18]||(l[18]=l=>e.data.track=l)},null,8,["modelValue"])])),_:1},512)])),_:1},8,["icon","label"])])}var ie=a(5688);const pe=(0,t.aZ)({components:{IInput:P.Z,ProgressTrack:ie.Z,Controls:X},name:"SNPC",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(),o=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>o.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>o.value),(()=>l("update:modelValue",o.value)),{deep:!0}),(0,t.YP)((()=>o.value.connection),(()=>n()));const s=(0,t.Fl)((()=>o.value.pronouns?"("+o.value.pronouns+")":"")),n=()=>{if(void 0!==a.value){const e=""!=o.value.track.name.trim(),l=o.value.track.boxes.filter((e=>e>0)).length>0;(o.value.connection||l||e)&&a.value.show()}};(0,t.bv)((()=>{n()}));const d=(0,x.Z)();return void 0===o.value.connection&&(o.value.connection=!0),{data:o,config:d,icon:Y.q,pronouns:s,challenge_tracks:a}}});var ge=a(1221);const Ve=(0,K.Z)(pe,[["render",re]]),be=Ve;te()(pe,"components",{QExpansionItem:J.Z,QCheckbox:ge.Z,QBtn:le.Z});const he={key:0,class:"row q-mb-sm"},fe={class:"row q-gutter-sm q-mb-sm"};function ve(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-btn"),u=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(u,{icon:`img:${e.icon.star(e.data.description)}`,"header-class":"star-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Star"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.iD)("div",he,[(0,t.Wm)(d,{class:"col",onMove:l[0]||(l[0]=l=>e.$emit("move",l))})])):(0,t.kq)("",!0),(0,t._)("div",fe,[(0,t.Wm)(c,{class:"col-grow",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(m,{key:0,class:"col-shrink",icon:"delete",flat:"",dense:"",onClick:l[2]||(l[2]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Description",modelValue:e.data.description,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.description=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const we=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SStar",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,icon:Y.q}}}),qe=(0,K.Z)(we,[["render",ve]]),De=qe;te()(we,"components",{QExpansionItem:J.Z,QBtn:le.Z});const ke={class:"row q-gutter-sm q-mb-sm no-wrap"},ye={key:1,class:"row q-gutter-sm justify-between q-mb-sm"},Se={key:2},Ie={class:"row q-gutter-sm justify-between q-mb-sm"},We={key:5,class:"row q-gutter-sm q-mb-sm"},Ce={key:6};function Ue(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.planet(e.data.type)}`,"header-class":"planet-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Planet"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",ke,[(0,t.Wm)(c,{class:"col-grow",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(m,{label:"Type",modelValue:e.data.type,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.type=l),options:Object.values(e.EPClass),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[3]||(l[3]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Description",modelValue:e.data.description,"onUpdate:modelValue":l[4]||(l[4]=l=>e.data.description=l),autogrow:""},null,8,["modelValue"]),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",ye,[(0,t.Wm)(c,{class:"col",label:"Atmosphere",modelValue:e.data.atmosphere,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.atmosphere=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Settlements",modelValue:e.data.settlements,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.settlements=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Life",modelValue:e.data.life,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.life=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",Se,[(0,t._)("div",Ie,[(0,t.Wm)(c,{class:"col",label:"Atmosphere",modelValue:e.data.atmosphere,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.atmosphere=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Settlements",modelValue:e.data.settlements,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.settlements=l)},null,8,["modelValue"])]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Life",modelValue:e.data.life,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.life=l)},null,8,["modelValue"])])),e.data.type==e.EPClass.Vital?((0,t.wg)(),(0,t.j4)(c,{key:3,class:"q-mb-sm",label:"Diversity",modelValue:e.data.diversity,"onUpdate:modelValue":l[11]||(l[11]=l=>e.data.diversity=l)},null,8,["modelValue"])):(0,t.kq)("",!0),e.data.type==e.EPClass.Vital?((0,t.wg)(),(0,t.j4)(c,{key:4,class:"q-mb-sm",label:"Biomes",modelValue:e.data.biomes,"onUpdate:modelValue":l[12]||(l[12]=l=>e.data.biomes=l)},null,8,["modelValue"])):(0,t.kq)("",!0),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",We,[(0,t.Wm)(c,{class:"col",label:"Observed from Space",modelValue:e.data.observed,"onUpdate:modelValue":l[13]||(l[13]=l=>e.data.observed=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Planetside Features",modelValue:e.data.feature,"onUpdate:modelValue":l[14]||(l[14]=l=>e.data.feature=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",Ce,[(0,t.Wm)(c,{class:"q-mb-sm",label:"Observed from Space",modelValue:e.data.observed,"onUpdate:modelValue":l[15]||(l[15]=l=>e.data.observed=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Planetside Features",modelValue:e.data.feature,"onUpdate:modelValue":l[16]||(l[16]=l=>e.data.feature=l)},null,8,["modelValue"])])),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[17]||(l[17]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const Ee=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SPlanet",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,EPClass:j.zA,icon:Y.q}}}),je=(0,K.Z)(Ee,[["render",Ue]]),Ze=je;te()(Ee,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const xe={class:"row q-gutter-sm q-mb-sm no-wrap items-baseline"},Oe={class:"row q-gutter-sm q-mb-sm"};function Pe(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.starship()}`,"header-class":"starship-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Starship"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",xe,[(0,t.Wm)(c,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Class",modelValue:e.data.class,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.class=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Fleet",modelValue:e.data.fleet,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.fleet=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col",label:"Faction",modelValue:e.faction,"onUpdate:modelValue":l[4]||(l[4]=l=>e.faction=l),options:e.campaignFactionNames},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[5]||(l[5]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{class:"q-mb-sm",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.firstLook=l)},null,8,["modelValue"]),(0,t._)("div",Oe,[(0,t.Wm)(c,{class:"col",label:"Initial Contact",modelValue:e.data.initialContact,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.initialContact=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Mission",modelValue:e.data.mission,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.mission=l)},null,8,["modelValue"])]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const Fe=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SStarship",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,t.Fl)({get(){if(""===a.value.factionId||void 0===a.value.factionId)return"None";const e=d(a.value.factionId);return e?e.name:"None"},set(e){if("None"===e)a.value.factionId="";else{const l=n(e);a.value.factionId=l?l.id:""}}}),s=()=>{const e=(0,Z.y)().data.factions.map((e=>e.name));return 0==e.length?["None"]:(e.unshift("None"),e)},n=function(e){return(0,Z.y)().data.factions.find((l=>l.name===e))},d=function(e){return(0,Z.y)().data.factions.find((l=>l.id===e))};void 0===a.value.factionId&&(a.value.factionId="");const c=(0,x.Z)();return{data:a,config:c,icon:Y.q,faction:o,campaignFactionNames:s,getFactionForName:n,getFactionForId:d}}}),$e=(0,K.Z)(Fe,[["render",Pe]]),_e=$e;te()(Fe,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const Me={class:"row q-gutter-sm q-mb-sm no-wrap"},Qe={class:"row q-gutter-sm q-mb-sm"};function Le(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.derelict()}`,"header-class":"derelict-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Derelict"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",Me,[(0,t.Wm)(c,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col",label:"Location",modelValue:e.data.location,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.location=l),options:Object.values(e.ESLocation),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),(0,t.Wm)(m,{class:"col",label:"Type",modelValue:e.data.type,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.type=l),options:Object.values(e.EDerelictType),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[4]||(l[4]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t._)("div",Qe,[(0,t.Wm)(c,{class:"col",label:"Condition",modelValue:e.data.condition,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.condition=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Outer First Look",modelValue:e.data.outerFirstLook,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.outerFirstLook=l)},null,8,["modelValue"])]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const Ne=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SDerelict",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,ESLocation:j.av,EDerelictType:j.Gc,icon:Y.q}}}),Ye=(0,K.Z)(Ne,[["render",Le]]),He=Ye;te()(Ne,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const ze={class:"row q-gutter-sm q-mb-sm no-wrap"},Be={key:1,class:"row q-gutter-sm q-mb-sm"},Te={key:2};function Re(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.vault()}`,"header-class":"vault-header sf-header rounded-borders q-mb-sm",label:e.data.name,caption:"Vault"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",ze,[(0,t.Wm)(c,{class:"col-grow",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col-shrink",label:"Type",modelValue:e.data.location,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.location=l),options:Object.values(e.ESLocation),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,icon:"delete",flat:"",dense:"",onClick:l[3]||(l[3]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",Be,[(0,t.Wm)(c,{class:"col",label:"Scale",modelValue:e.data.scale,"onUpdate:modelValue":l[4]||(l[4]=l=>e.data.scale=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Form",modelValue:e.data.form,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.form=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Shape",modelValue:e.data.shape,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.shape=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",Te,[(0,t.Wm)(c,{class:"q-mb-sm",label:"Scale",modelValue:e.data.scale,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.scale=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Form",modelValue:e.data.form,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.form=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Shape",modelValue:e.data.shape,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.shape=l)},null,8,["modelValue"])])),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const Ke=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SVault",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,ESLocation:j.av,icon:Y.q}}}),Ae=(0,K.Z)(Ke,[["render",Re]]),Xe=Ae;te()(Ke,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const Ge={class:"row q-gutter-sm q-mb-sm no-wrap"},Je={key:1,class:"row q-gutter-sm q-mb-sm"},el={key:2},ll={key:3,class:"row q-gutter-sm q-mb-sm"},al={key:4};function tl(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(r,{icon:`img:${e.icon.creature(e.data.form)}`,"header-class":"creature-header rounded-borders q-mb-sm",label:e.data.name,caption:"Creature"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.j4)(d,{key:0,onMove:l[0]||(l[0]=l=>e.$emit("move",l))})):(0,t.kq)("",!0),(0,t._)("div",Ge,[(0,t.Wm)(c,{class:"col",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Scale",modelValue:e.data.scale,"onUpdate:modelValue":l[2]||(l[2]=l=>e.data.scale=l)},null,8,["modelValue"]),(0,t.Wm)(m,{class:"col",label:"Environment",modelValue:e.data.environment,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.environment=l),options:Object.values(e.EEnv),standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4"},dense:""},null,8,["modelValue","options"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(u,{key:0,class:"col-shrink",icon:"delete",flat:"",dense:"",onClick:l[4]||(l[4]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",Je,[(0,t.Wm)(c,{class:"col",label:"Form",modelValue:e.data.form,"onUpdate:modelValue":l[5]||(l[5]=l=>e.data.form=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[6]||(l[6]=l=>e.data.firstLook=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",el,[(0,t.Wm)(c,{class:"q-mb-sm",label:"Form",modelValue:e.data.form,"onUpdate:modelValue":l[7]||(l[7]=l=>e.data.form=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"First Look",modelValue:e.data.firstLook,"onUpdate:modelValue":l[8]||(l[8]=l=>e.data.firstLook=l)},null,8,["modelValue"])])),e.$q.screen.gt.xs?((0,t.wg)(),(0,t.iD)("div",ll,[(0,t.Wm)(c,{class:"col",label:"Observed Behaviour",modelValue:e.data.behaviour,"onUpdate:modelValue":l[9]||(l[9]=l=>e.data.behaviour=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col",label:"Revealed Aspect",modelValue:e.data.aspect,"onUpdate:modelValue":l[10]||(l[10]=l=>e.data.aspect=l)},null,8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",al,[(0,t.Wm)(c,{class:"q-mb-sm",label:"Observed Behaviour",modelValue:e.data.behaviour,"onUpdate:modelValue":l[11]||(l[11]=l=>e.data.behaviour=l)},null,8,["modelValue"]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Revealed Aspet",modelValue:e.data.aspect,"onUpdate:modelValue":l[12]||(l[12]=l=>e.data.aspect=l)},null,8,["modelValue"])])),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[13]||(l[13]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])])}const ol=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"SCreature",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,EEnv:j.rL,icon:Y.q}}}),sl=(0,K.Z)(ol,[["render",tl]]),nl=sl;te()(ol,"components",{QExpansionItem:J.Z,QSelect:ee.Z,QBtn:le.Z});const dl={key:0,class:"row q-mb-sm"},cl={class:"row q-gutter-sm q-mb-sm"};function ml(e,l,a,o,s,n){const d=(0,t.up)("controls"),c=(0,t.up)("i-input"),m=(0,t.up)("q-btn"),u=(0,t.up)("q-expansion-item");return(0,t.wg)(),(0,t.j4)(u,{icon:`img:${e.icon.sighting(e.data.name)}`,"header-class":"sighting-header rounded-borders q-mb-sm",label:e.data.name,caption:"Sighting"},{default:(0,t.w5)((()=>[e.controls?((0,t.wg)(),(0,t.iD)("div",dl,[(0,t.Wm)(d,{class:"col",onMove:l[0]||(l[0]=l=>e.$emit("move",l))})])):(0,t.kq)("",!0),(0,t._)("div",cl,[(0,t.Wm)(c,{class:"col-grow",label:"Name",modelValue:e.data.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.data.name=l)},null,8,["modelValue"]),e.config.data.edit?((0,t.wg)(),(0,t.j4)(m,{key:0,class:"col-shrink",icon:"delete",flat:"",dense:"",onClick:l[2]||(l[2]=l=>e.$emit("delete"))})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{class:"q-mb-sm",label:"Notes",modelValue:e.data.notes,"onUpdate:modelValue":l[3]||(l[3]=l=>e.data.notes=l),autogrow:""},null,8,["modelValue"])])),_:1},8,["icon","label"])}const ul=(0,t.aZ)({components:{IInput:P.Z,Controls:X},name:"Sighting",props:{modelValue:{type:Object,required:!0},controls:{type:Boolean}},emits:["update:modelValue","delete","move"],setup(e,{emit:l}){const a=(0,E.iH)(e.modelValue);(0,t.YP)((()=>e.modelValue),(()=>a.value=e.modelValue),{deep:!0}),(0,t.YP)((()=>a.value),(()=>l("update:modelValue",a.value)),{deep:!0});const o=(0,x.Z)();return{data:a,config:o,icon:Y.q}}}),rl=(0,K.Z)(ul,[["render",ml]]),il=rl;te()(ul,"components",{QExpansionItem:J.Z,QBtn:le.Z});const pl={class:"row q-gutter-sm items-center"};function gl(e,l,a,s,n,d){const c=(0,t.up)("q-page"),m=(0,t.up)("q-page-container"),u=(0,t.up)("q-layout"),r=(0,t.up)("q-input"),i=(0,t.up)("q-btn"),p=(0,t.up)("q-card-section"),g=(0,t.up)("q-select"),V=(0,t.up)("cell"),b=(0,t.up)("q-card"),h=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(u,{view:"hHh lpR fFf",container:"",style:(0,o.j5)({width:`${e.config.data.map.width}px`,"min-height":`${e.config.data.map.height+20}px`})},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",{class:"hexmap",ref:"hexmap",style:(0,o.j5)({width:`${e.config.data.map.width}px`,height:`${e.config.data.map.height}px`}),onClick:l[0]||(l[0]=l=>e.click(l))},null,4)])),_:1})])),_:1})])),_:1},8,["style"]),(0,t.Wm)(h,{modelValue:e.showDialog,"onUpdate:modelValue":l[5]||(l[5]=l=>e.showDialog=l),"transition-show":"fade","transition-hide":"fade",maximized:e.$q.platform.is.mobile},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"card-bg",style:{"min-width":"40%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"row justify-between items-center bg-secondary text-h5"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"col",label:"Cell Name",modelValue:e.campaign.data.sectors[e.config.data.sector].cells[e.selectedID].name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.campaign.data.sectors[e.config.data.sector].cells[e.selectedID].name=l),dense:"",borderless:""},null,8,["modelValue"]),(0,t.Wm)(i,{class:"col-shrink",icon:"close",flat:"",dense:"",onClick:l[2]||(l[2]=l=>e.showDialog=!1)})])),_:1}),(0,t.Wm)(p,{class:"q-pa-sm q-mb-sm"},{default:(0,t.w5)((()=>[(0,t._)("div",pl,[(0,t.Wm)(g,{class:"col-grow",label:"Set cell status",hint:"Set to 'location' to save Oracle generated content and enable search for this cell",modelValue:e.campaign.data.sectors[e.config.data.sector].cells[e.selectedID].stat,"onUpdate:modelValue":l[3]||(l[3]=l=>e.campaign.data.sectors[e.config.data.sector].cells[e.selectedID].stat=l),options:Object.values(e.ECellStatus)},null,8,["modelValue","options"]),(0,t.Wm)(i,{class:"col-shrink",dense:"",outline:"",label:"Go here",onClick:l[4]||(l[4]=l=>e.campaign.data.character.location=e.selectedID)})])])),_:1}),(0,t.Wm)(p,{class:"q-pa-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{sectorID:e.config.data.sector,cellID:e.selectedID},null,8,["sectorID","cellID"])])),_:1})])),_:1})])),_:1},8,["modelValue","maximized"])],64)}var Vl=a(6984),bl=a(2501);const hl={[j.dd.Stars]:"#6d72a4ff",[j.dd.Planets]:"#7368b0ff",[j.dd.Settlements]:"#9d5a9fff",[j.dd.Ships]:"#ad6398ff",[j.dd.Derelicts]:"#427a99ff",[j.dd.Vaults]:"#427074ff",[j.dd.Creatures]:"#3c8ab5ff",[j.dd.NPCs]:"#9e708fff",[j.dd.Sightings]:"#25827Eff",Passage:"#393B61"};var fl=a(9281),vl=a.n(fl);const wl={class:"row full-width q-gutter-sm justify-between items-center"},ql={key:0},Dl={key:1},kl={key:2},yl={key:3},Sl={key:4},Il={key:5},Wl={key:6},Cl={key:7},Ul={key:8};function El(e,l,a,o,s,n){const d=(0,t.up)("q-toggle"),c=(0,t.up)("q-select"),m=(0,t.up)("q-btn"),u=(0,t.up)("s-star"),r=(0,t.up)("s-planet"),i=(0,t.up)("s-settlement"),p=(0,t.up)("s-starship"),g=(0,t.up)("s-NPC"),V=(0,t.up)("s-creature"),b=(0,t.up)("s-derelict"),h=(0,t.up)("s-vault"),f=(0,t.up)("s-sighting");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",wl,[(0,t.Wm)(d,{class:"col",icon:"mdi-cog",modelValue:e.showControls,"onUpdate:modelValue":l[0]||(l[0]=l=>e.showControls=l),label:"Move Controls"},null,8,["modelValue"]),(0,t.Wm)(c,{class:"col-shrink",label:"Add",modelValue:e.addSelect,"onUpdate:modelValue":l[1]||(l[1]=l=>e.addSelect=l),options:Object.values(e.ESectorItem),dense:"",borderless:""},null,8,["modelValue","options"]),(0,t.Wm)(m,{class:"col-shrink",icon:"add",flat:"",dense:"",onClick:e.add},null,8,["onClick"])]),e.show(e.ESectorOpts.Stars)?((0,t.wg)(),(0,t.iD)("div",ql,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].stars,((l,a)=>((0,t.wg)(),(0,t.j4)(u,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].stars[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].stars[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Stars,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveStar(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Planets)?((0,t.wg)(),(0,t.iD)("div",Dl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].planets,((l,a)=>((0,t.wg)(),(0,t.j4)(r,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].planets[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].planets[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Planets,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.movePlanet(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Settlements)?((0,t.wg)(),(0,t.iD)("div",kl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].settlements,((l,a)=>((0,t.wg)(),(0,t.j4)(i,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].settlements[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].settlements[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Settlements,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveSettlement(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Ships)?((0,t.wg)(),(0,t.iD)("div",yl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].ships,((l,a)=>((0,t.wg)(),(0,t.j4)(p,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].ships[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].ships[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Ships,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveStarship(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.NPCs)?((0,t.wg)(),(0,t.iD)("div",Sl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].npcs,((l,a)=>((0,t.wg)(),(0,t.j4)(g,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].npcs[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].npcs[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.NPCs,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveNPC(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Creatures)?((0,t.wg)(),(0,t.iD)("div",Il,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].creatures,((l,a)=>((0,t.wg)(),(0,t.j4)(V,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].creatures[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].creatures[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Creatures,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveCreature(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Derelicts)?((0,t.wg)(),(0,t.iD)("div",Wl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].derelicts,((l,a)=>((0,t.wg)(),(0,t.j4)(b,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].derelicts[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].derelicts[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Derelicts,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveDerelict(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Vaults)?((0,t.wg)(),(0,t.iD)("div",Cl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].vaults,((l,a)=>((0,t.wg)(),(0,t.j4)(h,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].vaults[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].vaults[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Vaults,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveVault(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0),e.show(e.ESectorOpts.Sightings)?((0,t.wg)(),(0,t.iD)("div",Ul,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.campaign.data.sectors[e.sectorID].cells[e.cellID].sightings,((l,a)=>((0,t.wg)(),(0,t.j4)(f,{class:"q-mt-sm",key:a,modelValue:e.campaign.data.sectors[e.sectorID].cells[e.cellID].sightings[a],"onUpdate:modelValue":l=>e.campaign.data.sectors[e.sectorID].cells[e.cellID].sightings[a]=l,onDelete:l=>e.campaign.removeObject(e.ESectorOpts.Sightings,e.sectorID,e.cellID,a),controls:e.showControls,onMove:l=>e.campaign.moveSighting(a,{sector:e.sectorID,cell:e.cellID},l)},null,8,["modelValue","onUpdate:modelValue","onDelete","controls","onMove"])))),128))])):(0,t.kq)("",!0)])}const jl=(0,t.aZ)({components:{SStar:De,SPlanet:Ze,SSettlement:se,SStarship:_e,SNPC:be,SCreature:nl,SDerelict:He,SVault:Xe,SSighting:il},name:"Cell",props:{sectorID:{type:Number,required:!0},cellID:{type:String,required:!0}},setup(e){const l=(0,Z.y)(),a=(0,E.iH)("Select"),t=()=>{switch(a.value){case j.bZ.Star:l.data.sectors[e.sectorID].cells[e.cellID].stars.unshift((0,O.Js)());break;case j.bZ.Planet:l.data.sectors[e.sectorID].cells[e.cellID].planets.unshift((0,O.rh)());break;case j.bZ.Settlement:l.data.sectors[e.sectorID].cells[e.cellID].settlements.unshift((0,O.Hg)());break;case j.bZ.Ship:l.data.sectors[e.sectorID].cells[e.cellID].ships.unshift((0,O.kv)());break;case j.bZ.Person:l.data.sectors[e.sectorID].cells[e.cellID].npcs.unshift((0,O.Cf)());break;case j.bZ.Creature:l.data.sectors[e.sectorID].cells[e.cellID].creatures.unshift((0,O.IW)());break;case j.bZ.Derelict:l.data.sectors[e.sectorID].cells[e.cellID].derelicts.unshift((0,O.UK)());break;case j.bZ.Vault:l.data.sectors[e.sectorID].cells[e.cellID].vaults.unshift((0,O.A7)());break;case j.bZ.Sighting:l.data.sectors[e.sectorID].cells[e.cellID].sightings.unshift((0,O.Aq)());default:break}},o=a=>l.data.sectors[e.sectorID].cells[e.cellID][a]&&l.data.sectors[e.sectorID].cells[e.cellID][a].length>0,s=(0,x.Z)(),n=(0,E.iH)(!1);return{config:s,campaign:l,ESectorItem:j.bZ,ESectorOpts:j.dd,addSelect:a,add:t,show:o,showControls:n}}});var Zl=a(3175);const xl=(0,K.Z)(jl,[["render",El]]),Ol=xl;te()(jl,"components",{QToggle:Zl.Z,QSelect:ee.Z,QBtn:le.Z});const Pl=(0,t.aZ)({components:{Cell:Ol},name:"HexMap",props:{searchResults:{type:Object,default:{}}},setup(e){const l=(0,Z.y)(),a=(0,x.Z)(),o=(0,E.iH)(!1),s=(0,E.iH)(""),n=(0,E.iH)(null),d=(e,l)=>`h-${e}-${l}`,c=(0,bl.XX)({size:a.data.map.hexSize}),m=(0,bl.WZ)(c),u=m.rectangle({width:Math.floor(a.data.map.width/(2*a.data.map.hexSize))+3,height:Math.floor(a.data.map.height/(2*a.data.map.hexSize))+3}),r=c().corners(),i=r.map((e=>`${e.x},${e.y}`)).join(" ");let p;(0,t.bv)((()=>{p=(0,Vl.Wj)().addTo(n.value).size("100%","100%"),console.log("initial map render"),V(),q()}));const g=e=>{const l=e.split(/-/g);if(3===l.length){const e=u.get({x:+l[1],y:+l[2]});if(e){const{x:l,y:a}=e.toPoint();return{x:l,y:a}}}return{x:0,y:0}},V=()=>{D(),f(),b(),h(),v(),w()},b=()=>{const e=l.data.sectors[a.data.sector].cells;Object.keys(e).forEach((l=>{p.find(`.${l}`).forEach((a=>{const t=e[l];switch(t.stat){case j.rm.Location:a.fill(p.gradient("linear",(function(e){let l=0;const a=a=>{e.stop(l,a),l++};t.stars.length>0&&a(hl[j.dd.Stars]),t.planets.length>0&&a(hl[j.dd.Planets]),t.settlements.length>0&&a(hl[j.dd.Settlements]),t.ships.length>0&&a(hl[j.dd.Ships]),t.derelicts.length>0&&a(hl[j.dd.Derelicts]),t.vaults.length>0&&a(hl[j.dd.Vaults]),t.creatures.length>0&&a(hl[j.dd.Creatures]),t.npcs.length>0&&a(hl[j.dd.NPCs]),t.sightings.length>0&&a(hl[j.dd.Sightings])})));break;case j.rm.Passage:a.fill(hl.Passage);break;default:a.fill("none");break}}))}))},h=()=>{p.find(".icons").forEach((e=>e.remove()));const e=(0,Vl.Wj)().group().addClass("icons"),t=l.data.sectors[a.data.sector].cells;Object.keys(t).forEach((l=>{const o=t[l];if(o.stat!=j.rm.Location)return;const{x:s,y:n}=g(l);let d="";o.sightings.length>0&&(d=Y.q.sighting(o.sightings[0].name)),o.npcs.length>0&&(d=Y.q.npc()),o.creatures.length>0&&(d=Y.q.creature(o.creatures[0].form)),o.vaults.length>0&&(d=Y.q.vault()),o.derelicts.length>0&&(d=Y.q.derelict()),o.ships.length>0&&(d=Y.q.starship()),o.settlements.length>0&&(d=Y.q.settlement()),o.planets.length>0&&(d=Y.q.planet(o.planets[0].type)),o.stars.length>0&&(d=Y.q.star(o.stars[0].description));const c=(0,Vl.Wj)().image(d).addClass("icon").size(a.data.map.hexSize,a.data.map.hexSize).addTo(e).move(s+a.data.map.hexSize/2*.7,n+a.data.map.hexSize/2);c.mouseenter((()=>{c.animate(100).transform({scale:1.3})})),c.mouseleave((()=>{c.animate(100).transform({scale:1})}))})),e.addTo(p),p.find(".ship").forEach((e=>e.front()))},f=()=>{if(p.find(".starfield").forEach((e=>e.remove())),!a.data.map.starfield)return;const e=(0,Vl.Wj)().group().addClass("starfield"),t=vl()(`${l.data.sectors[a.data.sector].name}:${l.data.sectors[a.data.sector].region}`),o=(0,Vl.Wj)().circle("10");for(let l=0;l<Math.floor(1.5*u.length);l++){const s=Math.floor(t()*(a.data.map.hexSize/4)),n=Math.floor(t()*a.data.map.width-1),d=Math.floor(t()*a.data.map.height-1),c=Math.floor(64*t())+194,m=Math.floor(64*t())+194,u=Math.floor(64*t())+194,r=o.clone();r.fill(`rgb(${c}, ${m}, ${u})`).size(s,s).addTo(e).dx(n).dy(d),a.data.map.animations&&l%10==0&&r.animate(2e3+Math.floor(5e3*Math.random())).attr({fill:"#2e3440"}).loop()}e.addTo(p).back()},v=()=>{p.find(".labels").forEach((e=>e.remove()));const e=(0,Vl.Wj)().group().addClass("labels"),t=l.data.sectors[a.data.sector].cells;Object.keys(t).forEach((l=>{const o=t[l];if(o.stat===j.rm.Location){const{label:t,type:s}=(0,O.Lm)(o,l),{x:n,y:d}=g(l);(0,Vl.Wj)().text(t).addClass("label").addTo(e).font({fill:hl[s]||"white",weight:"bold",size:.8*a.data.map.hexSize}).stroke({color:"black",width:1}).move(n-.5*a.data.map.hexSize,d-1*a.data.map.hexSize)}})),e.addTo(p).front()},w=()=>{p.find(".search-label").forEach((e=>e.remove())),e.searchResults!={}&&e.searchResults[a.data.sector]&&Object.keys(e.searchResults[a.data.sector]).forEach((t=>{if(l.data.sectors[a.data.sector].cells[t]){const{x:o,y:s}=g(t),n=e.searchResults[a.data.sector][t],{label:d}=(0,O.Lm)(l.data.sectors[a.data.sector].cells[t],t);p.find(`.${t}`).length>0&&(0,Vl.Wj)().text((function(e){Object.keys(n).forEach((o=>{n[o].forEach((s=>{const n=l.data.sectors[a.data.sector].cells[t][o][s];n&&n.name!==d&&e.tspan(n.name).stroke({color:"black",width:1}).fill(hl[o]).newLine()}))}))})).addClass("search-label").addTo(p).move(o,s+2*a.data.map.hexSize).font({size:.7*a.data.map.hexSize,weight:"bold"})}}))},q=()=>{if(""!=l.data.character.location){p.find(".ship").forEach((e=>e.remove()));const{x:e,y:t}=g(l.data.character.location);(0,Vl.Wj)().image(Y.q.player().replace("img:","")).addClass("ship").size(a.data.map.hexSize,a.data.map.hexSize).addTo(p).move(e+a.data.map.hexSize,t).front()}},D=()=>{p.clear(),u.forEach((e=>{const{x:l,y:a}=e.toPoint(),t=d(e.x,e.y),o=p.polygon(i).addClass("hex").addClass(t);o.translate(l,a),o.fill("none")}))},k=e=>{const t=u.get(m.pointToHex(e.offsetX,e.offsetY)),n=d(t.x,t.y);if(!l.data.sectors[a.data.sector].cells[n]||l.data.sectors[a.data.sector].cells[n].stat==j.rm.Empty){p.find(`.${n}`).forEach((e=>e.fill(hl.Passage)));const e=(0,O.Sy)(n);return e.stat=j.rm.Passage,void(l.data.sectors[a.data.sector].cells[n]=e)}s.value=n,o.value=!0};return(0,t.YP)((()=>a.data.map),(()=>f()),{deep:!0}),(0,t.YP)((()=>l.data.character.location),(()=>q())),(0,t.YP)((()=>e.searchResults),(()=>w()),{deep:!0}),(0,t.YP)((()=>l.$state.data.sectors[a.data.sector].cells),(()=>{b(),h(),v()}),{deep:!0}),(0,t.YP)((()=>a.data.sector),(()=>V())),(0,t.YP)((()=>l.data.id),(()=>V())),(0,t.YP)((()=>l.data.sectors[a.data.sector].name),(()=>f())),{campaign:l,config:a,hexmap:n,click:k,showDialog:o,selectedID:s,ECellStatus:j.rm}}});var Fl=a(7605),$l=a(2133),_l=a(9885),Ml=a(2074),Ql=a(4458),Ll=a(3190),Nl=a(3119);const Yl=(0,K.Z)(Pl,[["render",gl]]),Hl=Yl;te()(Pl,"components",{QLayout:Fl.Z,QPageContainer:$l.Z,QPage:_l.Z,QDialog:Ml.Z,QCard:Ql.Z,QCardSection:Ll.Z,QInput:Nl.Z,QBtn:le.Z,QSelect:ee.Z});const zl=(0,t.aZ)({components:{IInput:P.Z,HexMap:Hl,SSettlement:se,SNPC:be,SStar:De,SPlanet:Ze,SStarship:_e,SDerelict:He,SCreature:nl,SVault:Xe,SSighting:il},name:"Sector",setup(){const e=(0,Z.y)(),l=(0,x.Z)(),a=(0,E.iH)(!1),o=(0,t.Fl)((()=>{const l=[];return e.data.sectors.forEach(((e,a)=>{l.push({label:e.name,value:a})})),l})),s=()=>{e.data.sectors.push((0,O.X0)()),l.data.sector=e.data.sectors.length-1},n=()=>{const a=l.data.sector;l.data.sector=0,e.data.sectors.splice(a,1)},d=(0,E.iH)(""),c=(0,E.iH)([]),m=(0,t.Fl)((()=>null!=c.value&&c.value.length>0)),u=e=>null===d.value||RegExp(d.value,"i").test(e),r=(0,t.Fl)((()=>{const l={},a=(e,a,t)=>{l[e]||(l[e]={}),l[e][a]||(l[e][a]={}),l[e][a][t]||(l[e][a][t]=[])};return e.data.sectors.forEach(((e,t)=>{Object.keys(e.cells).forEach((o=>{Object.values(j.dd).forEach((s=>{for(let n=0;n<e.cells[o][s].length;n++)if(e.cells[o].stat===j.rm.Location)switch(s){case j.dd.Stars:i.star(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Planets:i.planet(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Settlements:i.settlement(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Ships:i.ship(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.NPCs:i.npc(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Creatures:i.creature(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Derelicts:i.derelict(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Vaults:i.vault(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;case j.dd.Sightings:i.sighting(e.cells[o][s][n])&&(a(t,o,s),l[t][o][s].push(n));break;default:break}}))}))})),l})),i={star:e=>!(m.value&&!c.value.includes(j.dd.Stars))&&(u(e.name)||u(e.description)),planet:e=>!(m.value&&!c.value.includes(j.dd.Planets))&&(u(e.name)||u(e.type)||u(e.description)||u(e.notes)),settlement:e=>!(m.value&&!c.value.includes(j.dd.Settlements))&&(u(e.name)||u(e.notes)),ship:e=>!(m.value&&!c.value.includes(j.dd.Ships))&&(u(e.name)||u(e.notes)),npc:e=>!(m.value&&!c.value.includes(j.dd.NPCs))&&(u("bond")&&e.bond||u(e.name)||u(e.role)||u(e.notes)),creature:e=>!(m.value&&!c.value.includes(j.dd.Creatures))&&(u(e.name)||u(e.environment)||u(e.notes)),derelict:e=>!(m.value&&!c.value.includes(j.dd.Derelicts))&&(u(e.name)||u(e.type)||u(e.notes)),vault:e=>!(m.value&&!c.value.includes(j.dd.Vaults))&&(u(e.name)||u(e.notes)),sighting:e=>!(m.value&&!c.value.includes(j.dd.Sightings))&&(u(e.name)||u(e.notes))};return{campaign:e,config:l,showMapConfig:a,ERegion:j.LK,ECellStatus:j.rm,CellLabel:O.Lm,sectorOpts:o,addSector:s,removeSector:n,searchText:d,filters:c,applyFilters:m,ESectorOpts:j.dd,results:r}}});var Bl=a(926);const Tl=(0,K.Z)(zl,[["render",U]]),Rl=Tl;te()(zl,"components",{QPage:_l.Z,QBtn:le.Z,QSelect:ee.Z,QExpansionItem:J.Z,QCardSection:Ll.Z,QSeparator:Bl.Z,QDialog:Ml.Z,QCard:Ql.Z,QToggle:Zl.Z})},5042:()=>{}}]);