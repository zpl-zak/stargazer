(()=>{var e={7093:(e,t,a)=>{"use strict";a(8964),a(702);var r=a(1957),n=a(1947),i=a(499),o=a(9835),s=a(6970);const l={key:1};function c(e,t,a,r,n,i){const c=(0,o.up)("router-view");return e.loaded?((0,o.wg)(),(0,o.j4)(c,{key:0})):((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",{class:"column q-pa-xl text-h5 self-center text-positive crt",style:{height:"100%",width:"100%"},onClick:t[0]||(t[0]=(...t)=>e.skipIntro&&e.skipIntro(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.msg,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"sf-header",key:t},(0,s.zw)(e),1)))),128))])]))}var d=a(5860),u=a(9216),h=a(5023),p=a(4549),m=a(899),f=a(9302),g=a(827),v=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):n(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const y=(0,o.aZ)({name:"App",setup(){let e=()=>{};const t=new Promise((t=>e=t)),a=e=>Promise.race([t,(0,g._v)(e)]),r=(0,i.iH)(!1),n=(0,i.iH)([""]),s=e=>v(this,void 0,void 0,(function*(){n.value.push("");for(let t=0;t<e.length;t++)yield a(40),n.value[n.value.length-1]+=e.charAt(t)})),l=(0,f.Z)();l.dark.set(!0);const c=(0,u.y)(),y=()=>v(this,void 0,void 0,(function*(){yield s("::booting system..."),yield a(500),yield s("::assessing damage..."),yield a(500),yield s("::loading protocols..."),yield a(500),yield s("::welcome "+c.data.character.name),yield(0,g._v)(500)})),b=()=>v(this,void 0,void 0,(function*(){const e=(0,h.L)(),t=(0,p.B)();yield c.populateStore().catch((e=>console.log(e))),yield e.populateStore().catch((e=>console.log(e))),yield t.populateStore().catch((e=>console.log(e)))}));(0,o.bv)((()=>v(this,void 0,void 0,(function*(){yield Promise.all([b(),y()]),r.value=!0}))));const S=(0,d.Z)();return(0,o.YP)((()=>S.$state),(()=>v(this,void 0,void 0,(function*(){yield S.save()}))),{deep:!0}),(0,o.YP)((()=>S.$state.data.current),(()=>v(this,void 0,void 0,(function*(){yield c.load(S.data.current)})))),(0,o.YP)((()=>c.$state),(0,m.Z)((()=>v(this,void 0,void 0,(function*(){S.data.saving=!0,yield c.save(),yield(0,g._v)(200),S.data.saving=!1}))),1e3),{deep:!0}),{skipIntro:e,loaded:r,msg:n}}});var b=a(1639);const S=(0,b.Z)(y,[["render",c]]),k=S;var O=a(3340),A=a(8910);const x=[{path:"/",component:()=>Promise.all([a.e(736),a.e(64),a.e(860)]).then(a.bind(a,5206)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(64),a.e(713)]).then(a.bind(a,713))}]},{path:"/campaign",component:()=>Promise.all([a.e(736),a.e(64),a.e(860)]).then(a.bind(a,5206)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(64),a.e(25)]).then(a.bind(a,7025))}]},{path:"/journal",component:()=>Promise.all([a.e(736),a.e(64),a.e(860)]).then(a.bind(a,5206)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(64),a.e(285)]).then(a.bind(a,9127))}]},{path:"/sector",component:()=>Promise.all([a.e(736),a.e(64),a.e(860)]).then(a.bind(a,5206)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(64),a.e(346)]).then(a.bind(a,4204))}]},{path:"/challenges",component:()=>Promise.all([a.e(736),a.e(64),a.e(860)]).then(a.bind(a,5206)),children:[{path:"",component:()=>Promise.all([a.e(736),a.e(64),a.e(731)]).then(a.bind(a,6911))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([a.e(736),a.e(266)]).then(a.bind(a,4266))}],w=x,C=(0,O.BC)((function(){const e=A.r5,t=(0,A.p7)({scrollBehavior:()=>({left:0,top:0}),routes:w,history:e("")});return t}));async function N(e,t){const a=e(k);a.use(n.Z,t);const r=(0,i.Xl)("function"===typeof C?await C({}):C);return{app:a,router:r}}var P=a(6827),T=a(7286);const M={config:{},plugins:{Notify:P.Z,Dialog:T.Z}},D="";async function E({app:e,router:t},a){let r=!1;const n=e=>{try{return t.resolve(e).href}catch(a){}return Object(e)===e?null:e},i=e=>{if(r=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=n(e);null!==t&&(window.location.href=t,window.location.reload())},o=window.location.href.replace(window.location.origin,"");for(let l=0;!1===r&&l<a.length;l++)try{await a[l]({app:e,router:t,ssrContext:null,redirect:i,urlPath:o,publicPath:D})}catch(s){return s&&s.url?void i(s.url):void console.error("[Quasar] boot error:",s)}!0!==r&&(e.use(t),e.mount("#q-app"))}N(r.ri,M).then((e=>Promise.all([Promise.resolve().then(a.bind(a,4290))]).then((t=>{const a=t.map((e=>e.default)).filter((e=>"function"===typeof e));E(e,a)}))))},4290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(3340),n=a(7363);const i=(0,r.xr)((({app:e})=>{e.use((0,n.WB)())}))},2620:(e,t,a)=>{"use strict";var r,n,i,o,s,l,c,d,u,h,p,m,f,g,v;a.d(t,{E$:()=>p,Eu:()=>m,Gc:()=>f,LK:()=>r,LW:()=>i,av:()=>h,bZ:()=>c,dd:()=>d,ix:()=>s,rL:()=>g,rm:()=>l,zA:()=>u}),function(e){e["Terminus"]="Terminus",e["Outlands"]="Outlands",e["Expanse"]="Expanse"}(r||(r={})),function(e){e["StellarObject"]="Stellar Object",e["Planet"]="Planet",e["Settlement"]="Settlement",e["Starship"]="Starship",e["Derelict"]="Derelict",e["Vault"]="Precursor Vault",e["Creature"]="Creature",e["DescFoc"]="Descriptor + Focus",e["DFMineral"]="Debris field: Mineral asteroids",e["DFFrozen"]="Debris field: Frozen asteroids",e["DFCrystal"]="Debris field: Crystalline asteroids",e["DFBoneyard"]="Debris field: Creature boneyard",e["DFMetal"]="Debris field: Metallic wreckage",e["Asteroid"]="Large rogue asteroid",e["Comet"]="Comet with a tail of ionized gas",e["EStorm"]="Fiery energy storm",e["MStorm"]="Chaotic meteoroid storm",e["Wave"]="Turbulent gravitational wave",e["Cloud"]="Dense nebula cloud",e["R2"]="Roll twice",e["R3"]="Roll three times"}(n||(n={})),function(e){e["Chaotic"]="Chaotic",e["Fortified"]="Fortified",e["Haunted"]="Haunted",e["Infested"]="Infested",e["Inhabited"]="Inhabited",e["Ruined"]="Ruined",e["Sacred"]="Sacred",e["Mechanical"]="Mechanical"}(i||(i={})),function(e){e["ActTheme"]="Action + Theme",e["DescFoc"]="Descriptor + Focus"}(o||(o={})),function(e){e["AlmostCertain"]="Almost Certain",e["Likely"]="Likely",e["FiftyFifty"]="Fifty-fifty",e["Unlikely"]="Unlikely",e["SmallChance"]="Small Chance",e["NoRoll"]="No Roll"}(s||(s={})),function(e){e["Empty"]="empty",e["Passage"]="passage",e["Location"]="location"}(l||(l={})),function(e){e["Star"]="Star",e["Planet"]="Planet",e["Settlement"]="Settlement",e["Ship"]="Ship",e["Person"]="Person",e["Creature"]="Creature",e["Derelict"]="Derelict",e["Vault"]="Vault",e["Sighting"]="Sighting"}(c||(c={})),function(e){e["Stars"]="stars",e["Planets"]="planets",e["Settlements"]="settlements",e["Ships"]="ships",e["NPCs"]="npcs",e["Creatures"]="creatures",e["Derelicts"]="derelicts",e["Vaults"]="vaults",e["Sightings"]="sightings"}(d||(d={})),function(e){e["Desert"]="Desert",e["Furnace"]="Furnace",e["Grave"]="Grave",e["Ice"]="Ice",e["Jovian"]="Jovian",e["Jungle"]="Jungle",e["Ocean"]="Ocean",e["Rocky"]="Rocky",e["Shattered"]="Shattered",e["Tainted"]="Tainted",e["Vital"]="Vital"}(u||(u={})),function(e){e["Planetside"]="Planetside",e["Orbital"]="Orbital",e["Space"]="Deep Space"}(h||(h={})),function(e){e["Few"]="Few",e["Dozens"]="Dozens",e["Hundreds"]="Hundreds",e["Thousands"]="Thousands",e["TensOfThou"]="Tens of thousands"}(p||(p={})),function(e){e["Access"]="Access",e["Community"]="Community",e["Engineering"]="Engineering",e["Living"]="Living",e["Medical"]="Medical",e["Operations"]="Operations",e["Production"]="Production",e["Research"]="Research"}(m||(m={})),function(e){e["Starship"]="Starship",e["Settlement"]="Settlement"}(f||(f={})),function(e){e["Space"]="Space",e["Interior"]="Interior",e["Land"]="Land",e["Liquid"]="Liquid",e["Air"]="Air"}(g||(g={})),function(e){e["Planet"]="Precursor Vault (planetside)",e["Orbital"]="Precursor Vault (orbital)"}(v||(v={}))},9867:(e,t,a)=>{"use strict";a.d(t,{W9:()=>c,du:()=>d,sj:()=>l});var r=a(320),n=a(5156),i=a(2221),o=a(9236);const s=()=>({name:`${n.roll("Starforged/Oracles/Characters/Name/Given_Name")} ${n.roll("Starforged/Oracles/Characters/Name/Family_Name")}`,pronouns:"",callsign:n.roll("Starforged/Oracles/Characters/Name/Callsign"),characteristics:"",location:"",stats:{edge:0,heart:0,iron:0,shadow:0,wits:0},tracks:{health:{value:5,max:5,min:0},spirit:{value:5,max:5,min:0},supply:{value:5,max:5,min:0},momentum:{value:2,max:10,min:-6,reset:2}},legacies:{quests:(0,o.xK)(),bonds:(0,o.xK)(),discoveries:(0,o.xK)()},clocks:[],impacts:{Misfortunes:[{name:"Wounded",marked:!1},{name:"Shaken",marked:!1},{name:"Unprepared",marked:!1}],"Lasting Effects":[{name:"Permanently Harmed",marked:!1},{name:"Traumatized",marked:!1}],Burdens:[{name:"Doomed",marked:!1},{name:"Tormented",marked:!1},{name:"Indebted",marked:!1}],"Current Vehicle":[{name:"Battered",marked:!1},{name:"Cursed",marked:!1}]},vows:[(0,o.mU)()],gear:"",assets:[]}),l=()=>({title:"New journal entry",content:"",pinned:!1}),c=()=>({id:(0,r.Z)(),name:"",type:"",influence:"",sphere:"",projects:"",relationships:"",quirks:"",rumors:"",notes:"",colour:"red"}),d=()=>{const e=s();return{id:(0,r.Z)(),name:`New Campaign - ${e.name}`,character:e,truths:{},progressTracks:[(0,o.mU)()],journal:[l()],sectors:[(0,i.X0)()],factions:[c()]}}},6570:(e,t,a)=>{"use strict";a.d(t,{db:()=>i});var r=a(9642);class n extends r.Z{constructor(){super("StargazerDB"),this.version(2).stores({config:"&id",campaign:"&id",assets:"&id",oracles:"&$id"}),this.config=this.table("config"),this.campaign=this.table("campaign"),this.assets=this.table("assets"),this.oracles=this.table("oracles")}}const i=new n},5156:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NewCustomOracle:()=>c,description:()=>f,roll:()=>h,rollCustom:()=>p,star:()=>y,truth:()=>g,truthOpts:()=>v,values:()=>m});var r=a(7989);const n=["Acamar","Achernar","Achird","Acrux","Acubens","Adhafera","Adhara","Adhil","Aladfar","Albireo","Alchibah","Alcor","Alcyone","Aldebaran","Alderamin","Alfirk","Algenib","Algol","Algorab","Alioth","Alkaid","Alkalurops","Alkes","Almach","Almeisan","Alnilam","Alnitak","Alphard","Alpheratz","Alsafi","Alshain","Altair","Alterf","Aludra","Alula","Alya","Ancha","Ankaa","Antares","Arcturus","Arkab","Arneb","Arrakis","Ascella","Asellus","Asmidiske","Asterope","Atik","Atlas","Atria","Auva","Avior","Azha","Baham","Baten","Bellatrix","Betelgeuse","Botein","Canopus","Capella","Caph","Castor","Celaeno","Chara","Cheleb","Choo","Chow","Coxa","Cujam","Cursa","Dabih","Deneb","Denebola","Diphda","Dschubba","Dziban","Edasich","Electra","Eltanin","Enif","Fomalhaut","Furud","Gacrux","Gemma","Giauzar","Gienah","Gomeisa","Graffias","Grumium","Hadar","Hamal","Heka","Heze","Homam","Jabbah","Jabhat","Kabdhilinan","Kaffaljidhmah","Kaou","Kaus","Kitalpha","Kochab","Kornephoros","Kuma","Kurhah","Lesath","Maasim","Maaz","Maia","Marfik","Markab","Matar","Mebsuta","Megrez","Mekbuda","Menkalinan","Menkar","Menkent","Menkib","Merak","Merope","Mesarthim","Miaplacidus","Mimosa","Minhar","Minkar","Mintaka","Mira","Mirach","Mirfak","Mirzam","Mizar","Mothallah","Muhlifain","Muliphein","Muphrid","Muscida","Naos","Nashira","Nekkar","Nihal","Nodus","Nunki","Nusakan","Phact","Phad","Pherkab","Pleione","Polaris","Pollux","Porrima","Praecipula","Prijipati","Primus","Procyon","Propus","Rana","Rasalas","Rastaban","Rigel","Rotanev","Ruchba","Ruchbah","Rukbat","Sabik","Sadachbia","Sadal","Sadalbari","Sadatoni","Sadr","Saiph","Sargas","Sarin","Scheat","Schedar","Schemali","Scutulum","Segin","Seginus","Shaula","Sheliak","Sheratan","Sirius","Situla","Skat","Spica","Sualocin","Suhail","Sulafat","Syrma","Talitha","Tania","Tarazed","Tarf","Taygeta","Tegmine","Tejat","Thabit","Thuban","Tseen","Tsih","Tsze","Ukdah","Unuk","Vega","Vindemiatrix","Wasat","Wezen","Wezn","Yildun","Zaniah","Zaurak","Zavijava","Zozma","Zuben","Zubenhakrabi"];var i=a(3930),o=a(827),s=a(796),l=a(4549);const c=e=>({$id:"Stargazer/Oracles/Custom/"+(0,s.Z)(),Name:e,Dice:"1d100",Display:{},Category:"Custom",Source:{},Table:[]}),d=e=>{if(0===e.length)return!1;const t=e.split("/"),a=t[0],r=t[1],n=t[2];if("Stargazer"===a&&"Custom"===n)return(0,l.B)().data.find((t=>t.$id===e));const o="Setting_Truths"===r;if(o){const t=i.q["Setting Truths"].find((t=>t.$id===e));return t||!1}const s=i.q["Oracle Categories"].find((e=>e.Name===n.replace("_"," ")));if(!s)return!1;let c=!1,d=!1;const u=t=>{if(!d){if(t.$id===e)return c=t,void(d=!0);if(t.Categories)for(const e of t.Categories)u(e);if(t.Oracles)for(const e of t.Oracles)u(e)}};if("Sample Names"===t[t.length-1]){t.pop(),e=t.join("/"),u(s);const a=c;return!!a["Sample Names"]&&a["Sample Names"]}return u(s),c||!1},u=e=>{const t=d(e);return!!t&&(Array.isArray(t)?t:!!t.Table&&t.Table)},h=(e,t)=>{var a;let n=u(e);if(!n||0===n.length)return"Could not find oracle";if("string"===typeof n[0])return n[Math.floor(Math.random()*n.length)];let i="No match";n=n;let s=(0,r.d)(100);if(void 0!=t&&(s=t),i=(0,o.x2)(null===(a=n.find((e=>null!=e.Floor&&null!=e.Ceiling&&e.Floor<=s&&e.Ceiling>=s)))||void 0===a?void 0:a.Result),/Action \+ Theme/i.test(i)&&(i=`${h("Starforged/Oracles/Core/Action")} ${h("Starforged/Oracles/Core/Theme")}`),/Descriptor \+ Focus/i.test(i)&&(i=`${h("Starforged/Oracles/Core/Descriptor")} ${h("Starforged/Oracles/Core/Focus")}`),/roll twice/i.test(i))while(/roll twice/i.test(i))i=`${h(e)}, ${h(e)}`;if(/roll three/i.test(i))while(/roll three/i.test(i))i=`${h(e)}, ${h(e)}, ${h(e)}`;return i},p=e=>{var t,a,n;const i=d(e),o=null===(t=i.Dice)||void 0===t?void 0:t.split("d");let s=0;if(o.length<2)return`Bad dice string: ${i.Dice}`;for(let l=0;l<+o[0];l++)s+=(0,r.d)(+o[1]);return null===(n=null===(a=i.Table)||void 0===a?void 0:a.find((e=>null!=e.Floor&&null!=e.Ceiling&&e.Floor<=s&&e.Ceiling>=s)))||void 0===n?void 0:n.Result},m=e=>{let t=u(e);return t&&0!==t.length?"string"===typeof t[0]?t:(t=t,t.map((e=>(0,o.x2)(e.Result).replace(/[^a-z ]/gi,"")))):[]},f=e=>{const t="Description not found",a=d(e);if(!a||Array.isArray(a))return t;const r=a;return r.Description?r.Description:t},g=(e,t)=>{var a;let n=d(e);if(!n)return{};n=n;let i={Result:"No match"};const o=(0,r.d)(100);if(-1===t){const e=n.Table;i=e.find((e=>null!=e.Floor&&null!=e.Ceiling&&o>=e.Floor&&o<=e.Ceiling))}else if(t>=0&&t<3){const e=null===(a=n.Table)||void 0===a?void 0:a[t].Subtable;i=null===e||void 0===e?void 0:e.find((e=>null!=e.Floor&&null!=e.Ceiling&&o>=e.Floor&&o<=e.Ceiling))}return i},v=(e,t)=>{var a,r,n;let i=d(e);if(!i)return[];i=i;const o=[];return-1===t?null===(a=i.Table)||void 0===a||a.forEach((e=>{o.push(e)})):t<3&&(null===(n=null===(r=i.Table)||void 0===r?void 0:r[t].Subtable)||void 0===n||n.forEach((e=>{o.push(e)}))),o},y=()=>{const e=Math.floor(Math.random()*n.length);return n[e]}},7989:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>o,Uw:()=>i,d:()=>n,ju:()=>l,nV:()=>s});var r=a(5156);const n=e=>Math.floor(Math.random()*e)+1,i=()=>({action:{die:0,score:0,color:"text-negative"},challenge:{die1:{roll:0,color:"text-negative"},die2:{roll:0,color:"text-negative"},match:!1},progress:!1,result:""}),o=e=>(e.action.score>e.challenge.die1.roll&&e.action.score>e.challenge.die2.roll?(e.result="Strong Hit",e.action.color="text-positive",e.challenge.die1.color="text-positive",e.challenge.die2.color="text-positive"):e.action.score<=e.challenge.die1.roll&&e.action.score>e.challenge.die2.roll||e.action.score<=e.challenge.die2.roll&&e.action.score>e.challenge.die1.roll?(e.result="Weak Hit",e.action.color="text-warning",e.action.score<=e.challenge.die1.roll?e.challenge.die1.color="text-negative":e.challenge.die1.color="text-positive",e.action.score<=e.challenge.die2.roll?e.challenge.die2.color="text-negative":e.challenge.die2.color="text-positive"):(e.result="Miss",e.action.color="text-negative",e.challenge.die1.color="text-negative",e.challenge.die2.color="text-negative"),e),s=(e,t,a,r)=>{let s=i();return s.action.die=n(6),s.challenge.die1.roll=n(10),s.challenge.die2.roll=n(10),s.action.score=+s.action.die+ +t+ +e,s.action.score>10&&(s.action.score=10),a<0&&Math.abs(a)===Math.abs(s.action.die)&&(s.action.score-=s.action.die),void 0!==r&&(s.action.score=r),s.challenge.match=!1,s=o(s),s.challenge.die1.roll===s.challenge.die2.roll&&(s.challenge.match=!0),s},l=e=>{const t=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),n=t+a===0?100:0===t?a:+`${t}${a}`,i="Yes"===r.roll(`Starforged/Oracles/Moves/Ask_the_Oracle/${e.replace(/ /g,"_")}`,n);return{val:n,yn:i,match:t===a}}},2221:(e,t,a)=>{"use strict";a.d(t,{A7:()=>c,Aq:()=>m,Cf:()=>o,Hg:()=>g,IW:()=>l,Js:()=>p,Lm:()=>u,Sy:()=>d,UK:()=>s,X0:()=>h,kv:()=>v,rh:()=>f});var r=a(2620),n=a(5156),i=a(9236);const o=()=>({name:"",pronouns:"",callsign:"",firstLook:"",disposition:"",role:"",goal:"",aspect:"",track:(0,i.mU)(),connection:!0,bond:!1,notes:""}),s=(e,t)=>({name:"",location:e||r.av.Space,type:t||r.Gc.Starship,condition:"",outerFirstLook:"",innerFirstLook:"",currentZone:r.Eu.Access,explore:{area:"",feature:"",peril:"",opportunity:""},notes:""}),l=e=>({name:"New Creature",environment:e||r.rL.Land,scale:"",form:"",firstLook:"",behaviour:"",aspect:"",notes:""}),c=e=>({name:"Mysterious Vault",location:e||r.av.Orbital,scale:"",form:"",shape:"",material:"",outerFirstLook:"",innerFirstLook:"",purpose:"",interior:{feature:"",peril:"",opportunity:""},sanctum:{feature:"",peril:"",opportunity:""},notes:""}),d=(e,t)=>({id:e,stat:r.rm.Empty,name:t||e,factions:[],notes:"",stars:[],planets:[],settlements:[],derelicts:[],ships:[],npcs:[],creatures:[],vaults:[],sightings:[]}),u=(e,t)=>{let a=e.name?e.name:"",n="";const i={[r.E$.Few]:1,[r.E$.Dozens]:2,[r.E$.Hundreds]:3,[r.E$.Thousands]:4,[r.E$.TensOfThou]:5};if(e.sightings.length>0&&(a=e.sightings[0].name,n=r.dd.Sightings),e.npcs.length>0&&(a=e.npcs[0].name,n=r.dd.NPCs),e.creatures.length>0&&(a=e.creatures[0].name,n=r.dd.Creatures),e.vaults.length>0&&(a=e.vaults[0].name,n=r.dd.Vaults),e.derelicts.length>0&&(a=e.derelicts[0].name,n=r.dd.Derelicts),e.ships.length>0&&(a=e.ships[0].name,n=r.dd.Ships),e.planets.length>0&&(a=e.planets[0].name,n=r.dd.Planets),e.stars.length>0&&(a=e.stars[0].name,n=r.dd.Stars),e.settlements.length>0){let t=0;e.settlements.forEach((e=>{i[e.population]&&i[e.population]>t&&(t=i[e.population],a=e.name)})),n=r.dd.Settlements}return e.name!==t&&(a=e.name),{label:a,type:n}},h=()=>({name:`${n.roll("Starforged/Oracles/Space/Sector_Name/Prefix")} ${n.roll("Starforged/Oracles/Space/Sector_Name/Suffix")}`,region:r.LK.Terminus,control:"",cells:{},notes:""}),p=()=>({name:n.star(),description:n.roll("Starforged/Oracles/Space/Stellar_Object")}),m=()=>({name:"Sighting",notes:""}),f=e=>({type:e||r.zA.Desert,name:"",description:"",atmosphere:"",settlements:"",observed:"",feature:"",life:"",notes:""}),g=e=>({name:"",location:e||r.av.Orbital,population:"",firstLook:"",initialContact:"",authority:"",projects:"",trouble:"",notes:""}),v=()=>({name:"",class:"",fleet:"",factionId:"",initialContact:"",firstLook:"",mission:"",notes:""})},9236:(e,t,a)=>{"use strict";a.d(t,{Mc:()=>u,Vv:()=>d,av:()=>s,mU:()=>l,xK:()=>c,yc:()=>o});var r=a(2620),n=a(320),i=a(7989);const o=e=>{switch(e){case 0:return"mdi-checkbox-blank-outline";case 1:return"mdi-circle-small";case 2:return"mdi-star-four-points";case 3:return"mdi-hexagram";case 4:return"mdi-flare";default:break}return"mdi-checkbox-blank-outline"},s={1:{label:"Troublesome",mark:3,harm:1},2:{label:"Dangerous",mark:2,harm:2},3:{label:"Formidable",mark:1,harm:3},4:{label:"Extreme",mark:.5,harm:4},5:{label:"Epic",mark:.25,harm:5}},l=e=>({name:e||"",difficulty:1,boxes:Array(10).fill(0),clocks:[]}),c=()=>{const e={plus10:!1,boxes:Array(10).fill({ticks:0,xp:[!1,!1]})};return e},d=()=>({id:(0,n.Z)(),name:"",segments:4,filled:0,advance:r.ix.Likely,roll:0}),u=e=>{const{val:t,yn:a,match:r}=(0,i.ju)(e.advance);return e.roll=t,a&&e.filled<e.segments&&e.filled++,a&&r&&e.filled<e.segments&&e.filled++,e}},827:(e,t,a)=>{"use strict";a.d(t,{_v:()=>h,db:()=>s,oN:()=>p,p$:()=>f,rk:()=>d,x2:()=>u,zO:()=>m});var r=a(8272),n=a.n(r),i=a(4689),o=a.n(i);const s=["p","br","b","i","table","tr","td","th","ul","ol","li"],l=new(o().Converter)({tables:!0}),c=(e,t)=>n()(e,{allowedTags:t?[]:s,transformTags:{a:"i"}}),d=e=>c(l.makeHtml(e)),u=e=>c(l.makeHtml(e),!0),h=e=>new Promise((t=>setTimeout(t,e))),p=e=>n()(e,{allowedTags:s}),m=()=>{const e=e=>e<10?`0${e}`:`${e}`,t=new Date,a=t.getFullYear(),r=e(t.getMonth()+1),n=e(t.getDate()),i=e(t.getHours()),o=e(t.getMinutes());return`${a}${r}${n}_${i}${o}`},f=e=>JSON.parse(JSON.stringify(e))},5023:(e,t,a)=>{"use strict";a.d(t,{L:()=>l});var r=a(7363),n=a(6570),i=a(827),o=a(6646),s=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):n(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const l=(0,r.Q_)({id:"assets",state(){return{data:[]}},actions:{populateStore(){return s(this,void 0,void 0,(function*(){if(yield n.db.assets.count(),(yield n.db.assets.count())>0)try{const e=yield n.db.assets.toArray();e.forEach(((t,a)=>{e[a].items.forEach(((t,r)=>e[a].items[r].text=(0,i.oN)(t.text)))})),this.data=e}catch(e){console.log(e)}}))},save(e){return s(this,void 0,void 0,(function*(){e.items.forEach(((t,a)=>e.items[a].text=(0,i.oN)(t.text)));const t=JSON.parse(JSON.stringify(e));yield n.db.assets.put(t).catch((e=>console.log(e))),yield this.populateStore()}))},delete(e){return s(this,void 0,void 0,(function*(){const t=e.id;yield n.db.assets["delete"](t),this.data.forEach(((e,a)=>{e.id===t&&this.data.splice(a,1)}))}))},exportData(){return s(this,void 0,void 0,(function*(){const e=yield n.db.assets.toArray();e.forEach(((t,a)=>{e[a].items.forEach(((t,r)=>e[a].items[r].text=(0,i.oN)(t.text)))}));const t=JSON.stringify(e),a=(0,o.Z)(`Starforged-assets-${(0,i.zO)()}.json`,t,{mimeType:"application/json"});1!=a&&alert(a)}))},loadData(e){const t=new FileReader;t.onload=e=>s(this,void 0,void 0,(function*(){var t;const a=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);a.forEach(((e,t)=>{a[t].items.forEach(((e,r)=>a[t].items[r].text=(0,i.oN)(e.text)))}));try{yield n.db.assets.bulkPut(a),yield this.populateStore()}catch(r){console.log(r)}})),t.readAsText(e)}}})},9216:(e,t,a)=>{"use strict";a.d(t,{y:()=>d});var r=a(7363),n=a(9867),i=a(5860),o=a(6646),s=a(6570),l=a(827),c=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):n(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const d=(0,r.Q_)({id:"campaign",state(){return{data:(0,n.du)()}},actions:{moveSighting(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].sightings[e]));this.data.sectors[a.sector].cells[a.cell].sightings.unshift(r),this.data.sectors[t.sector].cells[t.cell].sightings.splice(e,1)},moveStar(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].stars[e]));this.data.sectors[a.sector].cells[a.cell].stars.unshift(r),this.data.sectors[t.sector].cells[t.cell].stars.splice(e,1)},movePlanet(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].planets[e]));this.data.sectors[a.sector].cells[a.cell].planets.unshift(r),this.data.sectors[t.sector].cells[t.cell].planets.splice(e,1)},moveSettlement(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].settlements[e]));this.data.sectors[a.sector].cells[a.cell].settlements.unshift(r),this.data.sectors[t.sector].cells[t.cell].settlements.splice(e,1)},moveStarship(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].ships[e]));this.data.sectors[a.sector].cells[a.cell].ships.unshift(r),this.data.sectors[t.sector].cells[t.cell].ships.splice(e,1)},moveNPC(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].npcs[e]));this.data.sectors[a.sector].cells[a.cell].npcs.unshift(r),this.data.sectors[t.sector].cells[t.cell].npcs.splice(e,1)},moveCreature(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].creatures[e]));this.data.sectors[a.sector].cells[a.cell].creatures.unshift(r),this.data.sectors[t.sector].cells[t.cell].creatures.splice(e,1)},moveDerelict(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].derelicts[e]));this.data.sectors[a.sector].cells[a.cell].derelicts.unshift(r),this.data.sectors[t.sector].cells[t.cell].derelicts.splice(e,1)},moveVault(e,t,a){const r=JSON.parse(JSON.stringify(this.data.sectors[t.sector].cells[t.cell].vaults[e]));this.data.sectors[a.sector].cells[a.cell].vaults.unshift(r),this.data.sectors[t.sector].cells[t.cell].vaults.splice(e,1)},removeObject(e,t,a,r){this.data.sectors[t].cells[a][e].splice(r,1)},appendToJournal(e,t){this.data.journal[e].content+=t},exportJournal(){const e=document.implementation.createHTMLDocument("Journal");this.data.journal.forEach((t=>{const a=e.createElement("div");a.classList.add("entry"),a.innerHTML=`<h3>${t.title}</h3><div class="content">${t.content}</div>`,e.body.prepend(a)}));const t=(new XMLSerializer).serializeToString(e),a=(0,o.Z)(`Starforged-journal-${(0,l.zO)()}.html`,t,{mimeType:"text/html"});1!=a&&alert(a)},populateStore(){return c(this,void 0,void 0,(function*(){const e=(0,i.Z)();if(yield e.populateStore(),(yield s.db.campaign.count())>0&&""!==e.data.current)try{yield this.load(e.data.current)}catch(t){console.log(t)}else yield this.new(),yield e.updateIndex()}))},new(){var e;return c(this,void 0,void 0,(function*(){const t=(0,i.Z)();t.data.sector=0;const a=(0,n.du)();this.data=a,t.data.current=this.data.id,t.data.index.push({name:null===(e=this.data)||void 0===e?void 0:e.name,id:this.data.id});const r=JSON.parse(JSON.stringify(this.data));yield s.db.campaign.put(r).catch((e=>console.log(e)))}))},save(){return c(this,void 0,void 0,(function*(){const e=JSON.parse(JSON.stringify(this.data));yield s.db.campaign.update(this.data.id,e).catch((e=>console.log(e)));const t=(0,i.Z)();yield t.updateIndex()}))},loadFirst(){return c(this,void 0,void 0,(function*(){const e=(0,i.Z)();e.data.sector=0;const t=yield s.db.campaign.toCollection().sortBy("name"),a=t[0],r=null===a||void 0===a?void 0:a.id;r?(yield this.load(r),e.data.current=r):yield this.new(),yield e.updateIndex()}))},load(e){return c(this,void 0,void 0,(function*(){try{const t=yield s.db.campaign.get(e);if(t){const e=(0,i.Z)();e.data.sector=0,this.data=t}else yield this.loadFirst()}catch(t){console.log(t)}}))},delete(e){return c(this,void 0,void 0,(function*(){try{const t=(0,i.Z)();yield s.db.campaign["delete"](e),t.data.current===e&&(yield this.loadFirst()),yield t.updateIndex()}catch(t){console.log(t)}}))},exportData(){return c(this,void 0,void 0,(function*(){const e=JSON.stringify(yield s.db.campaign.toArray()),t=(0,o.Z)(`Starforged-campaign-${(0,l.zO)()}.json`,e,{mimeType:"application/json"});1!=t&&alert(t)}))},loadData(e){const t=new FileReader;t.onload=e=>c(this,void 0,void 0,(function*(){var t;const a=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);try{yield s.db.campaign.bulkPut(a),yield this.populateStore()}catch(r){alert(r)}})),t.readAsText(e)}}})},5860:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(7363);function n(){return{id:1,current:"",sector:0,index:[],edit:!0,saving:!1,map:{height:400,width:800,hexSize:20,animations:!1,starfield:!0}}}var i=a(6570),o=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):n(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const s=(0,r.Q_)({id:"config",state(){return{data:n()}},actions:{populateStore(){return o(this,void 0,void 0,(function*(){if((yield i.db.config.count())>0)try{this.data=yield i.db.config.where("id").equals(1).first(),this.data.map||(this.data.map={height:400,width:800,hexSize:20,animations:!1,starfield:!0})}catch(e){console.log(e)}else{const e=n();this.data=e,i.db.config.put(e).catch((e=>console.log(e)))}}))},save(){return o(this,void 0,void 0,(function*(){const e=JSON.parse(JSON.stringify(this.data));yield i.db.config.update(1,e).catch((e=>console.log(e)))}))},updateIndex(){return o(this,void 0,void 0,(function*(){const e=yield i.db.campaign.toArray();this.data.index=e.map((e=>({name:e.name,id:e.id})))}))}}})},4549:(e,t,a)=>{"use strict";a.d(t,{B:()=>c});var r=a(7363),n=a(6570),i=a(6646),o=a(827),s=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):n(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))};const l=e=>(e.forEach(((t,a)=>{var r;null===(r=e[a].Table)||void 0===r||r.forEach(((t,r)=>{e[a].Table&&(e[a].Table[r].Result=(0,o.oN)(t.Result))}))})),e),c=(0,r.Q_)({id:"oracles",state(){return{data:[]}},actions:{populateStore(){return s(this,void 0,void 0,(function*(){if(yield n.db.oracles.count(),(yield n.db.oracles.count())>0)try{const e=yield n.db.oracles.toArray();this.data=l(e)}catch(e){console.log(e)}}))},save(e){var t;return s(this,void 0,void 0,(function*(){null===(t=e.Table)||void 0===t||t.forEach(((t,a)=>e.Table[a].Result=(0,o.oN)(t.Result)));const a=JSON.parse(JSON.stringify(e));yield n.db.oracles.put(a).catch((e=>console.log(e))),yield this.populateStore()}))},delete(e){return s(this,void 0,void 0,(function*(){const t=e.$id;yield n.db.oracles["delete"](t),this.data.forEach(((e,a)=>{e.$id===t&&this.data.splice(a,1)}))}))},exportData(){return s(this,void 0,void 0,(function*(){const e=yield n.db.oracles.toArray(),t=JSON.stringify(l(e)),a=(0,i.Z)(`Starforged-oracles-${(0,o.zO)()}.json`,t,{mimeType:"application/json"});1!=a&&alert(a)}))},loadData(e){const t=new FileReader;t.onload=e=>s(this,void 0,void 0,(function*(){var t;const a=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);try{yield n.db.oracles.bulkPut(l(a)),yield this.populateStore()}catch(r){console.log(r)}})),t.readAsText(e)}}})},5347:()=>{},1777:()=>{},4017:()=>{},9905:()=>{},4604:()=>{}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,(()=>{a.amdD=function(){throw new Error("define cannot be used indirect")}})(),(()=>{a.amdO={}})(),(()=>{var e=[];a.O=(t,r,n,i)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,n,i]=e[d],s=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,n,i]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o["default"]=()=>r,a.d(i,o),i}})(),(()=>{a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[]))})(),(()=>{a.u=e=>"js/"+(64===e?"chunk-common":e)+"."+{25:"943b7148",64:"b81ad8e6",266:"e59fc804",285:"1bbedc1a",346:"24225aa2",713:"7b1779ea",731:"0e8e27dc",860:"dcaae2ae"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"501f5790",285:"77560bb2",346:"3a58ab84",713:"868b8236",731:"9211904b",736:"79b7be5a",860:"a259575e"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="stargazer:";a.l=(r,n,i,o)=>{if(e[r])e[r].push(n);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[n];var h=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(a))),t)return t(a)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{a.p=""})(),(()=>{var e=(e,t,a,r)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var i=i=>{if(n.onerror=n.onload=null,"load"===i.type)a();else{var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,n.parentNode.removeChild(n),r(l)}};return n.onerror=n.onload=i,n.href=t,document.head.appendChild(n),n},t=(e,t)=>{for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var n=a[r],i=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(i===e||i===t))return n}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){n=o[r],i=n.getAttribute("data-href");if(i===e||i===t)return n}},r=r=>new Promise(((n,i)=>{var o=a.miniCssF(r),s=a.p+o;if(t(o,s))return n();e(r,s,n,i)})),n={143:0};a.f.miniCss=(e,t)=>{var a={285:1,346:1,713:1,731:1,860:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=r(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))}})(),(()=>{var e={143:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((a,r)=>n=e[t]=[a,r]));r.push(n[2]=i);var o=a.p+a.u(t),s=new Error,l=r=>{if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[o,s,l]=r,c=0;if(o.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)var d=l(a)}for(t&&t(r);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},r=self["webpackChunkstargazer"]=self["webpackChunkstargazer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[736],(()=>a(7093)));r=a.O(r)})();